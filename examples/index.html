<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>quote-selection demo</title>
</head>
<body>
  <h1>Demo</h1>
  <p>Select and press <kbd>r</kbd> to quote, <kbd>m</kbd> to quote and parse markdown. Selecting this line does not quote.<p>
  <hr>
  <div data-quote-selection-region>
    <h2>Blame</h4>
    <p>The <code>blame</code> feature in <a href="https://git-scm.com/">Git</a> describes the last modification to each line of a file, which generally displays the revision, author and time. This is helpful, for example, in tracking down when a feature was added, or which commit led to a particular bug.</p>

    <blockquote class="js-nested-quoted-selection" data-quote-selection-region>
      <!-- inline comments -->
      <p>The <code>blame</code> feature in <a href="https://git-scm.com/">Git</a> describes the last modification to each line of a file, which generally displays the revision, author and time. This is helpful, for example, in tracking down when a feature was added, or which commit led to a particular bug.</p>

      <textarea cols="50" rows="10" hidden></textarea>
    </blockquote>

    <h2>Branch</h4>
    <p>A <code>branch</code> is a parallel version of a repository. It is contained within the repository, but does not affect the primary or <code>master</code> branch allowing you to work freely without disrupting the "live" version. When you've made the changes you want to make, you can merge your branch back into the <code>master</code> branch to publish your changes.</p>

    <!-- new comment form -->
    <textarea cols="50" rows="10"></textarea>
  </div>
  <script type="module">
    import {install} from '../dist/index.js'

    for(const container of document.querySelectorAll('[data-quote-selection-region]')) {
      install(container)
    }

    document.addEventListener('quote-selection', function(event) {
      if (event.target.classList.contains('js-nested-quoted-selection')) {
        const textarea = event.target.querySelector('textarea')
        textarea.hidden = false
      }
    })
  </script>
</body>
</html>
